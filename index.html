<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OI Modals Test</title>
    <link rel="stylesheet" href="weavr/OI.weavr.min.css">
    <link rel="stylesheet" href="dist/OI.modal.css">
    <link rel="stylesheet" href="demo/prism.css">

    <style>
      code {
        padding: 3px 5px;
        background-color: #efeeea;
        color: #555;
        margin: 0;
        border-radius: 2px;
        font-size: .875em;
      }
      
      pre code {
        background-color: transparent;
      }
    </style>

    <script src="//use.typekit.net/owg8owx.js"></script>
    <script type="text/javascript">try {Typekit.load();} catch (e) {}</script>
  </head>
  <body>
    <section class="padding-2x">
      <div class="contained-680 centered">
        <h1 class="large brand-purple align-center">OI Modals</h1>
        <p class="large">
          This is a demonstration and test of the many ways to trigger and
          determine the content for modals within Opportunity International's
          front-end framework. The library has jQuery and Weavr as dependencies.
        </p>
        
        <hr>
        
        <h2 class="align-center">Modals from existing content</h2>
        <p>
          Modals can display content that already exists in the DOM. You don't
          need to write any Javascript to make this happen, you'll just need to
          have the markup for the modal already in the document and add a data
          attribute on the trigger element.
        </p>
        <p class="align-center">
          <a class="btn brand-purple-bg" data-modal="#modal1">Existing modal</a>
        </p>
        
        <h3>Example:</h3>
        
        <pre><code class="language-markup">
<a class="btn brand-purple-bg" data-modal="#modal1">
  Existing modal
</a>

<div class="modal" id="modal1">
  <div class="modal-container">
    <button type="button" class="reset icon-cross close"></button>
    <div class="modal-content padding-2x">
      <!-- Modal content goes here -->
    </div>
  </div>
</div>
</code></pre>

        <hr>
        
        <h2 class="align-center">Dynamic content</h2>
        <p>
          You can also create modals with dynamic content by declaring them
          with a bit of Javascript.
        </p>
        <p class="align-center">
          <a class="custom-trigger btn brand-pink-bg" data-pizza="cool beans">Dynamic content</a>
        </p>
        <h3>Example:</h3>
        <pre><code class="language-markup">
<a class="custom-trigger btn brand-pink-bg" data-pizza="cool beans">Dynamic content</a>

<script>
  $('.custom-trigger').modal({
    content: function() {
      var word = "generated";
      return '<h3>Hello world</h3><p>This content was ' + word + ' dynamically.</p><button type="button" class="btn brand-orange-bg">' + $(this).data('pizza') + '</button>'
    },
    classes: 'padding-2x'
  });
</script>
</code></pre>
        
        <hr>
        
        <h2 class="align-center">iFrame Content</h2>
        <p>
          If the <code>data-modal</code> attribute is a URL, the URL will be
          loaded in an <code>iframe</code> in the modal. If the URL is a Vimeo
          or YouTube embed URL, it will be displayed in a 16:9 widescreen format.
          Otherwise it defaults to a 4:3 format.
        </p>
        <p class="inline-buttons align-center">
          <a class="btn brand-teal-bg" data-modal="http://opportunityintl.github.io/Weavr" data-modal-classes="large">iframe modal</a>
          <a class="btn brand-orange-bg" data-modal="https://player.vimeo.com/video/129820312?title=0&byline=0&portrait=0" data-modal-classes="x-large">Video modal</a>
        </p>
        
        <h3>Example:</h3>
        <pre><code class="language-markup">
<a class="btn brand-teal-bg" data-modal="http://opportunityintl.github.io/Weavr" data-modal-classes="large">iframe modal</a>

<a class="btn brand-orange-bg" data-modal="https://player.vimeo.com/video/129820312?title=0&byline=0&portrait=0" data-modal-classes="x-large">Video modal</a>
</code></pre>
        <hr>
        
        <h2 class="align-center">Fullscreen Modals</h2>
        <p>
          Modals can be displayed "fullscreen" (i.e. full viewport), making them
          more like an overlay.
        </p>
        <p class="inline-buttons align-center">
          <a class="modal-trigger btn brand-purple-bg" data-modal="#fullscreen">Fullscreen modal</a>
        </p>
        
        <hr>
        
        <h2 class="align-center">Modal Sizes</h2>
        <p>
          There are 4 pre-determined modal sizes (not including fullscreen).
          By default, modals are "small" (400px wide). Other sizes can be set
          by adding one of the following modifier classes:
        </p>
        <ul>
          <li><code>.medium</code> : 480px</li>
          <li><code>.large</code> : 680px</li>
          <li><code>.x-large</code> : 960px</li>
        </ul>
        <p>
          Because modals are sized with classes, you have the freedom to
          create additional sizes by creating your own classes in your stylesheets.
        </p>
        <p class="align-center inline-buttons">
          <a class="btn brand-teal-bg" data-modal="#modal-small">Normal Modal</a>
          <a class="btn brand-green-bg" data-modal="#modal-medium">Medium Modal</a>
          <a class="btn brand-orange-bg" data-modal="#modal-large">Large Modal</a>
          <a class="btn brand-purple-bg" data-modal="#modal-x-large">X-large Modal</a>
        </p>
        
        <hr>
        
        <h2 class="align-center">Callback functions</h2>
        <p>
          You can declare callback functions to execute before and after a modal
          closes or opens. You can prevent a modal from opening or closing by
          returning <code>false</code> from the <code>beforeOpen()</code> and
          <code>beforeClose()</code> callbacks, respectively.
        </p>
        <p class="align-center inline-buttons">
          <a class="btn brand-purple-bg before-open-demo">Try me</a>
        </p>
      </div>
    </section>
    <footer class="padding-1x-2x brand-darkgray-bg">
      <div class="contained-680 centered align-center">
        <p class="small brand-gray">
          &copy;2015 Opportunity International
        </p>
      </div>
    </footer>
    
    <div class="modal" id="modal1">
      <div class="modal-container">
        <button type="button" class="reset icon-cross close"></button>
        <div class="modal-content padding-2x">
          <h2 class="align-center brand-pink">Donate to Opportunity</h2>
          <p class="small">
            Make a difference by supporting the work of Opportunity International.
          </p>
          <div class="choose-amount-module margin-bottom-1x">
            <div class="row small-gutter">
              <div class="col col-6 t-col-6 m-col-6">
                <input type="radio" id="donation-amt-1" name="donation-amt" value="25">
                <label for="donation-amt-1" class="btn">$25</label>
              </div>
              <div class="col col-6 t-col-6 m-col-6">
                <input type="radio" id="donation-amt-2" name="donation-amt" value="50" checked>
                <label for="donation-amt-2" class="btn">$50</label>
              </div>
            </div>
            <div class="row small-gutter">
              <div class="col col-6 t-col-6 m-col-6">
                <input type="radio" id="donation-amt-3" name="donation-amt" value="100">
                <label for="donation-amt-3" class="btn">$100</label>
              </div>
              <div class="col col-6 t-col-6 m-col-6">
                <input type="radio" id="donation-amt-4" name="donation-amt" value="150">
                <label for="donation-amt-4" class="btn">$150</label>
              </div>
            </div>
            <div class="row">
              <div class="col col-12 t-col-12 m-col-12">
                <input type="text" name="donation-amt-custom" placeholder="Enter donation amount">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col col-12 t-col-12 m-col-12">
              <input type="submit" name="name" value="Donate Now" class="btn brand-pink-bg block">
            </div>
          </div>
          <p class="small brand-font-secondary brand-gray align-center">
            You'll complete your donation on a separate page.
          </p>
        </div>
      </div>
    </div>
    <div class="modal" id="modal-small">
      <div class="modal-container">
        <button type="button" class="reset icon-cross close"></button>
        <div class="modal-content">
          <div>
            <img src="http://placehold.it/400x200" class="block">
          </div>
          <div class="padding-2x">
            <h2 class="align-center">This is a normal modal</h2>
            <p>
              Intelligentsia quinoa you probably haven't heard of them four dollar toast. You probably haven't heard of them aesthetic polaroid lumbersexual, fanny pack Truffaut next level lo-fi paleo post-ironic viral ennui pug.
            </p>
            <p class="align-center">
              <a class="btn brand-teal-bg">Check out this button</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal-medium">
      <div class="modal-container medium">
        <button type="button" class="reset icon-cross close"></button>
        <div class="modal-content">
          <div>
            <img src="http://placehold.it/480x240" class="block">
          </div>
          <div class="padding-2x">
            <h2 class="align-center">This is a medium modal</h2>
            <p>
              Intelligentsia quinoa you probably haven't heard of them four dollar toast. You probably haven't heard of them aesthetic polaroid lumbersexual, fanny pack Truffaut next level lo-fi paleo post-ironic viral ennui pug.
            </p>
            <p class="align-center">
              <a class="btn brand-teal-bg">Check out this button</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal-large">
      <div class="modal-container large">
        <button type="button" class="reset icon-cross close"></button>
        <div class="modal-content">
          <div>
            <img src="http://placehold.it/680x300" class="block">
          </div>
          <div class="padding-2x">
            <h2 class="align-center">This is a large modal</h2>
            <p>
              Intelligentsia quinoa you probably haven't heard of them four dollar toast. You probably haven't heard of them aesthetic polaroid lumbersexual, fanny pack Truffaut next level lo-fi paleo post-ironic viral ennui pug.
            </p>
            <p class="align-center">
              <a class="btn brand-orange-bg">Check out this button</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal-x-large">
      <div class="modal-container x-large">
        <button type="button" class="reset icon-cross close"></button>
        <div class="modal-content">
          <div>
            <img src="http://placehold.it/960x320" class="block">
          </div>
          <div class="padding-2x">
            <h2 class="large align-center brand-teal">This is an extra large modal</h2>
            <div class="row large-gutter">
              <div class="col col-6 t-col-12 m-col-12">
                <p>
                  Intelligentsia quinoa you probably haven't heard of them four dollar toast. You probably haven't heard of them aesthetic polaroid lumbersexual, fanny pack Truffaut next level lo-fi paleo post-ironic viral ennui pug.
                </p>
              </div>
              <div class="col col-6 t-col-12 m-col-12">
                <p>
                  Brooklyn sriracha stumptown pour-over authentic. Sriracha food truck Tumblr four dollar toast migas Schlitz crucifix, gentrify chia trust fund twee. Actually Echo Park cliche, beard cronut salvia twee swag.
                </p>
              </div>
            </div>
            <p class="align-center">
              <a class="btn brand-purple-bg">Check out this button</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="fullscreen">
      <button type="button" class="reset icon-cross close"></button>
      <div class="modal-container fullscreen">
        <div class="modal-content padding-2x">
          <div class="contained-680 centered">
            <h2>Heading heading heading!</h2>
            <p>Raw denim PBR letterpress, 8-bit aesthetic narwhal Schlitz normcore iPhone Blue Bottle vinyl retro. Fanny pack jean shorts cardigan, organic VHS Etsy quinoa gluten-free pour-over swag craft beer Pinterest. Mlkshk tousled squid banjo, tilde sartorial selfies messenger bag cred Marfa skateboard fanny pack Kickstarter four dollar toast. Lo-fi skateboard stumptown Pinterest craft beer iPhone. Master cleanse street art pour-over, literally sustainable kogi Marfa try-hard cray cliche Intelligentsia organic. Narwhal Neutra High Life gentrify food truck, lomo semiotics. Stumptown asymmetrical distillery American Apparel narwhal authentic listicle mustache farm-to-table Portland trust fund Wes Anderson.</p>
            <p>Mlkshk roof party gentrify kale chips meh pug. Keytar mlkshk gastropub, DIY lumbersexual readymade mixtape roof party sustainable fixie. Irony crucifix locavore Portland Intelligentsia. American Apparel Vice selvage, gentrify salvia Schlitz ethical pickled try-hard squid tattooed trust fund bespoke kitsch Godard. Portland cornhole blog trust fund photo booth. Artisan lomo direct trade pop-up, four loko taxidermy iPhone. Fashion axe aesthetic disrupt fanny pack bespoke, heirloom 3 wolf moon you probably haven't heard of them Intelligentsia listicle banjo.</p>
            <p>Brooklyn sriracha stumptown pour-over authentic. Sriracha food truck Tumblr four dollar toast migas Schlitz crucifix, gentrify chia trust fund twee. Actually Echo Park cliche, beard cronut salvia twee swag. Pop-up aesthetic master cleanse meditation distillery, flannel Banksy. Quinoa Echo Park scenester Austin, pug selfies seitan gentrify PBR&B Brooklyn vegan Wes Anderson freegan single-origin coffee umami. Disrupt street art Godard, lumbersexual occupy pour-over vegan cardigan mixtape Carles Pitchfork migas aesthetic four dollar toast. Craft beer art party disrupt taxidermy tattooed.</p>
            <p>You probably haven't heard of them normcore PBR Tumblr, pug sriracha 8-bit Odd Future Carles ethical lomo keffiyeh Blue Bottle PBR&B. Bitters chambray Vice street art, Pinterest chillwave PBR&B irony hella drinking vinegar Banksy fanny pack. Gentrify DIY kale chips, raw denim meditation distillery selvage scenester Kickstarter hoodie seitan heirloom flannel pickled. 3 wolf moon you probably haven't heard of them cray, Marfa literally narwhal DIY shabby chic. Ennui XOXO distillery occupy paleo, readymade bespoke keytar street art bitters. Farm-to-table try-hard meh craft beer XOXO polaroid Banksy. Pop-up mumblecore VHS, hashtag pour-over health goth food truck pickled Bushwick meh cliche beard lo-fi fashion axe semiotics.</p>
            <p>Mumblecore master cleanse put a bird on it, pop-up lumbersexual Kickstarter fanny pack heirloom Vice meditation chambray fashion axe meh church-key. Photo booth kogi literally cronut fixie. Vinyl deep v Tumblr drinking vinegar Neutra, keytar scenester raw denim vegan mustache try-hard sartorial. Mixtape tattooed Neutra, Shoreditch meh leggings normcore cray fixie skateboard sartorial. Single-origin coffee narwhal lo-fi ugh. Stumptown messenger bag heirloom, cornhole PBR&B mumblecore occupy umami four loko. Fingerstache cliche pop-up XOXO.</p>
            <p>Sriracha Helvetica Carles aesthetic cray. Crucifix pickled artisan cold-pressed. Sartorial cornhole selfies plaid Portland, synth biodiesel 90's normcore listicle you probably haven't heard of them. Deep v American Apparel four loko seitan meditation. 8-bit put a bird on it viral Godard blog. Bespoke pork belly kitsch Banksy put a bird on it, health goth Thundercats viral next level four dollar toast DIY. Butcher cardigan blog fixie.</p>
            <p>
              <a class="btn brand-pink-bg" data-modal="#modal1">Modal in a modal</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="before-open-demo">
      <div class="modal-container">
        <button type="button" class="reset icon-cross close"></button>
        <div class="modal-content padding-2x">
          <h2 class="brand-purple align-center">Modal Callback Demo</h2>
          <p>
            If you look at the browser console, you'll see the timing and result of the callbacks.
          </p>
          <p class="align-center">
            <a class="btn brand-orange-bg close">Close</a>
          </p>
        </div>
      </div>
    </div>
    
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>

    <!--[if lte IE 9]>
      <script type="text/javascript" src="weavr/OI.placeholder.min.js"></script>
    <![endif]-->

    <script type="text/javascript" src="weavr/OI.weavr.min.js"></script>
    <script type="text/javascript" src="dist/OI.modal.min.js"></script>
    
    <script type="text/javascript">
      // replaces < characters with &lt; to allow syntax highlighter to
      // display HTML code instead of browser parsing and rendering it as HTML
      $('code').each(function() {
        $(this).html($(this).html().replace(/</g, '&lt;').replace(/>/g, '&gt;'));
      });
    </script>
    
    <script type="text/javascript" src="demo/prism.js"></script>

    <script>
      // automatically set up triggers for elements with data-modal attribute
      $('[data-modal]').modal();
    
      // custom modal to demonstrate dynamic content
      $('.custom-trigger').modal({
        content: function() {
          var word = "generated";
          return '<h3>Hello world</h3><p>This content was ' + word + ' dynamically.</p><button type="button" class="btn brand-orange-bg">' + $(this).data('pizza') + '</button>'
        },
        classes: 'padding-2x'
      });
      
      // custom modal to demonstrate callback functions
      $('.before-open-demo').modal({
        source: '#before-open-demo',
        beforeOpen: function() {
          console.log('beforeOpen() called on #' + $(this).attr('id'));
        },
        afterOpen: function() {
          console.log('afterOpen() called on #' + $(this).attr('id'));
        },
        beforeClose: function() {
          console.log('beforeClose() called on #' + $(this).attr('id'));
        },
        afterClose: function() {
          console.log('afterClose() called on #' + $(this).attr('id'));
        }
      });
    </script>
  </body>
</html>
