/* OI-Modals v0.9.0 
 * Compiled 07-22-2015
 * Copyright (c) 2015 Opportunity International 
 */
!function(a){a.fn.modal=function(b){return this.each(function(){new Modal(a(this),b)})}}(jQuery);var OI=OI||{};OI.modal={init:function(){0===$("#modals").length&&$("body").append($("<div>",{id:"modals"})),$("[data-modal]").modal()},show:function(a){return $("body").addClass("animate-modal"),setTimeout(function(){$("body").addClass("show-modal"),a.addClass("show")},100),a.find(".close").bind("click.modal",function(){OI.modal.hide(a)}),$("#modals").bind("click.modal",function(){OI.modal.hide(a)}),a.bind("click.modal",function(a){a.stopPropagation()}),$(document).bind("keyup.modal",function(b){"27"==b.keyCode&&OI.modal.hide(a)}),!1},hide:function(a){a.find(".close").unbind("click.modal"),$("#modals").unbind("click.modal"),a.unbind("click.modal"),$(document).unbind("keyup.modal"),$("body").removeClass("show-modal"),a.removeClass("show"),setTimeout(function(){$("body").removeClass("animate-modal"),a.data("destroyOnClose")&&a.remove()},500)},"new":function(a,b){var c=$("<div>",{"class":"modal"});return c.append($("<button>",{type:"button","class":"reset icon-cross close"})),c.append($("<div>",{"class":"modal-content"})),b&&c.addClass(b),c.find(".modal-content").append(a),$("#modals").append(c),c.data("destroyOnClose",!0),c}};var Modal=function(a,b){function c(a){return/^https?:\/\//.test(a)}function d(a){return/^https?:\/\/(www\.youtube|player\.vimeo)/.test(a)}function e(a){return $(a).length>0}var f,g=$(a);b=$.extend({classes:g.data("modal-classes")||null,content:null},b),"function"==typeof b.content&&(b.content=b.content.call(g)),g.click(function(){if(c(g.data("modal"))){var a;d(g.data("modal"))?(a=$("<div>",{"class":"flex-video"}),a.append($("<iframe>",{src:g.data("modal"),frameborder:0}))):(a=$("<div>",{"class":"iframe"}),a.append($("<iframe>",{src:g.data("modal"),frameborder:0}))),f=OI.modal["new"](a,b.classes)}else f=e(g.data("modal"))?$(g.data("modal")):OI.modal["new"](b.content,b.classes);OI.modal.show(f)})};OI.modal.init();