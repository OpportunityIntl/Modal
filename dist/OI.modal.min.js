/* OI-Modals v0.9.0 
 * Compiled 07-23-2015
 * Copyright (c) 2015 Opportunity International 
 */
!function(a){a.fn.modal=function(c){return this.each(function(){new b(a(this),c)})};var b=function(b,c){function d(){var a;return a=e()?f()?"video":"url":g()?"content":"dynamic"}function e(){return/^https?:\/\//.test(c.source)}function f(){return/^https?:\/\/(www\.youtube|player\.vimeo)/.test(c.source)}function g(){return a(c.source).length>0?!0:!1}var h,i=this,j=a(b);c=a.extend({classes:j.data("modal-classes")||null,source:j.data("modal")||null,content:null,type:j.data("modal-type")||null},c),"function"==typeof c.content&&(c.content=c.content.call(j)),this.type=c.type||d(),this.setElement=function(){var b;switch(i.type){case"video":b=a("<div>",{"class":"flex-video"}),b.append(a("<iframe>",{src:j.data("modal"),frameborder:0})),c.content=b,h=i.createElement();break;case"url":b=a("<div>",{"class":"iframe"}),b.append(a("<iframe>",{src:j.data("modal"),frameborder:0})),c.content=b,h=i.createElement();break;case"content":h=a(j.data("modal"));break;case"dynamic":h=i.createElement()}},this.createElement=function(){0===a("#modals").length&&a("body").append(a("<div>",{id:"modals"}));var b=a("<div>",{"class":"modal"});return b.append(a("<button>",{type:"button","class":"reset icon-cross close"})),b.append(a("<div>",{"class":"modal-content"})),c.classes&&b.addClass(c.classes),b.find(".modal-content").append(c.content),a("#modals").append(b),b.data("destroyOnClose",!0),b},this.show=function(){return a("#modals").addClass("animate"),h.addClass("animate"),setTimeout(function(){a("#modals").addClass("show"),h.addClass("show")},100),h.find(".close").bind("click.modal",function(){i.hide()}),a("#modals").bind("click.modal",function(){i.hide()}),h.bind("click.modal",function(a){a.stopPropagation()}),a(document).bind("keyup.modal",function(a){"27"==a.keyCode&&i.hide()}),!1},this.hide=function(){h.find(".close").unbind("click.modal"),a("#modals").unbind("click.modal"),h.unbind("click.modal"),a(document).unbind("keyup.modal"),a("#modals").removeClass("show"),h.removeClass("show"),setTimeout(function(){a("#modals").removeClass("animate"),h.removeClass("animate"),h.data("destroyOnClose")&&h.remove()},500)},j.click(function(){i.setElement(),i.show()})};a("[data-modal]").modal()}(jQuery);