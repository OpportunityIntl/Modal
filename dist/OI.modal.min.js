/* OI-Modals v0.9.0 
 * Compiled 07-24-2015
 * Copyright (c) 2015 Opportunity International 
 */
!function(a){a.fn.modal=function(c){return this.each(function(){new b(a(this),c)})};var b=function(b,c){function d(){var a;return a=e()?f()?"video":"url":g()?"content":"dynamic"}function e(){return/^https?:\/\//.test(c.source)}function f(){return/^https?:\/\/(www\.youtube|player\.vimeo)/.test(c.source)}function g(){return a(c.source).length>0?!0:!1}function h(){i&&(i.find(".modal-container").outerHeight(!0)>a(window).height()?i.addClass("overflow"):i.removeClass("overflow"))}var i,j=this,k=a(b);c=a.extend({classes:k.data("modal-classes")||null,source:k.data("modal")||null,content:null,type:k.data("modal-type")||null},c),"function"==typeof c.content&&(c.content=c.content.call(k)),this.type=c.type||d(),this.setElement=function(){var b;switch(j.type){case"video":b=a("<div>",{"class":"flex-video"}),b.append(a("<iframe>",{src:k.data("modal"),frameborder:0})),c.content=b,i=j.createElement();break;case"url":b=a("<div>",{"class":"iframe"}),b.append(a("<iframe>",{src:k.data("modal"),frameborder:0})),c.content=b,i=j.createElement();break;case"content":i=a(k.data("modal"));break;case"dynamic":i=j.createElement()}},this.createElement=function(){var b=a("<div>",{"class":"modal"});return b.append(a("<div>",{"class":"modal-container"})),b.find(".modal-container").append(a("<button>",{type:"button","class":"reset icon-cross close"})),b.find(".modal-container").append(a("<div>",{"class":"modal-content"})),c.classes&&b.find(".modal-container").addClass(c.classes),b.find(".modal-content").append(c.content),a("body").append(b),b.data("destroyOnClose",!0),b},this.show=function(){return i.addClass("animate"),h(),setTimeout(function(){i.addClass("show")},100),i.find(".close").bind("click.modal",function(){j.hide()}),i.bind("click.modal",function(){j.hide()}),i.find(".modal-container").bind("click.modal",function(a){a.stopPropagation()}),a(document).bind("keyup.modal",function(a){"27"==a.keyCode&&j.hide()}),a("body").addClass("no-scroll"),!1},this.hide=function(){i.find(".close").unbind("click.modal"),a("#modals").unbind("click.modal"),i.unbind("click.modal"),a(document).unbind("keyup.modal"),i.removeClass("show"),setTimeout(function(){i.removeClass("animate"),i.data("destroyOnClose")&&i.remove(),h()},500),a("body").removeClass("no-scroll")},k.click(function(){j.setElement(),j.show()}),a(window).resize(h)};a("[data-modal]").modal()}(jQuery);