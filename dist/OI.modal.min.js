/* OI-Modals v0.9.0 
 * Compiled 07-22-2015
 * Copyright (c) 2015 Opportunity International 
 */
var OI=OI||{};OI.modal={overlay:$(".modal-overlay"),init:function(){$(".modal-trigger").each(function(){new Modal($(this))})},show:function(a){return $("body").addClass("animate-modal"),setTimeout(function(){$("body").addClass("show-modal"),a.addClass("show")},100),a.find(".close").bind("click.modal",function(){OI.modal.hide(a)}),$("#modals").bind("click.modal",function(){OI.modal.hide(a)}),a.bind("click.modal",function(a){a.stopPropagation()}),$(document).bind("keyup.modal",function(b){"27"==b.keyCode&&OI.modal.hide(a)}),!1},hide:function(a){a.find(".close").unbind("click.modal"),$("#modals").unbind("click.modal"),a.unbind("click.modal"),$(document).unbind("keyup.modal"),$("body").removeClass("show-modal"),a.removeClass("show"),setTimeout(function(){$("body").removeClass("animate-modal"),a.data("destroyOnClose")&&a.remove()},500)},"new":function(a,b){var c=$("<div>",{"class":"modal"});return c.append($("<button>",{type:"button","class":"reset icon-cross close"})),c.append($("<div>",{"class":"modal-content"})),b&&c.addClass(b),c.find(".modal-content").append(a),$("#modals").append(c),c.data("destroyOnClose",!0),c}};var Modal=function(a,b){function c(){return/^https?:\/\//.test(g.data("modal"))}function d(){return/^https?:\/\/(www\.youtube|player\.vimeo)/.test(g.data("modal"))}function e(){return $(g.data("modal")).length>0}var f,g=$(a);b=$.extend({classes:g.data("modal-classes")||null,content:null},b),g.click(function(){if(c()){var a;d()?(console.log("Video"),a=$("<div>",{"class":"flex-video"}),a.append($("<iframe>",{src:g.data("modal"),frameborder:0}))):(console.log("Normal url"),a=$("<iframe>",{src:g.data("modal"),frameborder:0})),f=OI.modal["new"](a,b.classes)}else f=e()?$(g.data("modal")):OI.modal["new"](b.content,b.classes);OI.modal.show(f)})};OI.modal.init();